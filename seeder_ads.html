<?php 
// EXERCISE 9.1.3 NOT COMPLETE Retrieving Data, User Side
// EXERCISE 9.1.4 Prepared Statememts, Dynamic Queries and User Input
// EXERCISE 9.9 adlister project 

require 'db_connect.php'; 

$items = [
	['headline' => 'Relic Silver Ball Grommet Belt',
	'price' => '5.00',
	'size' => 'large',
	'category' => 'accessories',
	'description'  => 'Synthetic leather with silver beading and nicely fashioned grommets.',
	'contact' => 'text'
	],
	['headline' => 'Fun Shoe Ornaments',
	'price' => '10.00',
	'size' => 'One Size',
	'category' => 'shoes',
	'description' => '3/4 inches long, various ornaments, total of 20 pieces',
	'contact' => 'text'
	],
	['headline' => 'Diamond Ring, 14 carat gold',
	'price' => '300.00',
	'size' => '7',
	'category' => 'jewelry',
	'description' => 'Estate sale ring, appraised at $400 by Americus Diamond',
	'contact' => 'text'
	],
	['headline' => 'Heart and charm stones necklace',
	'price' => '10.00',
	'size' => '16 inches',
	'category' => 'jewelry',
	'description' => 'Never worn. Sterling silver with curbic zirconia',
	'contact' => 'text'
	],
	['headine' => 'Fun shoes for a little girl',
	'price' => '10.00',
	'size' => '7',
	'category' => 'shoes',
	'description' => 'Crafted by KB Designs, sure to please',
	'contact' => 'text'
	],
	['headline' => 'Cute fun party or play dress.',
	'price' => '20.00',
	'size' => '2';
	'category' => 'clothing',
	'description' => 'Cute party dress or make believe dress! Top is cotton. Bottom is tulle, length 12 inches from waist.',
	'contact' => 'text'
	],
	['headline' => 'LA Idol USA jeans, good condition',
	'price' => '18.00',
	'size' => '11',
	'category' => 'clothing';
	'description' => 'Great jeans for a night out',
	'contact' => 'text'
	].
	['headline' => 'Vera Bradley purse, blue flower design',
	'price' => '20.00',
	'size' => 'One Size',
	'category' => 'accessories',
	'description' => 'Shoulder bag, very nice condition',
	'contact' => 'text'	
	],
];

$stmt = $dbc->prepare('INSERT INTO ads (headline, price, size, category, description, contact) VALUES (:headline, :price, :size, :category, :description, :contact)');


foreach ($items as $item) {
    $stmt->bindValue(':headline',       $items['headline'],     PDO::PARAM_STR);
    $stmt->bindValue(':price',          $items['price'],        PDO::PARAM_STR);
    $stmt->bindValue(':size', 			$items['size'],			PDO::PARAM_STR);
    $stmt->bindValue(':category',		$items['category'],    	PDO::PARAM_STR);
    $stmt->bindValue(':description',	$items['description'],  PDO::PARAM_STR);
    $stmt->bindValue(':contact',		$items['contact'],		PDO::PARAM_STR);

    $stmt->execute();
}
echo "Inserted ID: " . $dbc->lastInsertId() . PHP_EOL;

 ?>